/**
 * This file was auto-generated by Fern from our API Definition.
 */

import * as serializers from "../../../index.js";
import * as Respeecher from "../../../../api/index.js";
import * as core from "../../../../core/index.js";
import { Chunk } from "./Chunk.js";
import { StreamingError } from "./StreamingError.js";

export const ServerSentEvent: core.serialization.Schema<
    serializers.tts.ServerSentEvent.Raw,
    Respeecher.tts.ServerSentEvent
> = core.serialization
    .union("type", {
        chunk: Chunk,
        error: StreamingError,
    })
    .transform<Respeecher.tts.ServerSentEvent>({
        transform: (value) => value,
        untransform: (value) => value,
    });

export declare namespace ServerSentEvent {
    export type Raw = ServerSentEvent.Chunk | ServerSentEvent.Error;

    export interface Chunk extends Chunk.Raw {
        type: "chunk";
    }

    export interface Error extends StreamingError.Raw {
        type: "error";
    }
}
